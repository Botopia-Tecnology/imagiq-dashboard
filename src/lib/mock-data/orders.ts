import { Order } from '@/types';

const generateOrderNumber = (index: number): string => {
  const date = new Date();
  const year = date.getFullYear().toString().slice(-2);
  const month = String(date.getMonth() + 1).padStart(2, '0');
  return `ORD-${year}${month}-${String(index).padStart(4, '0')}`;
};

export const mockOrders: Order[] = [
  {
    id: '1',
    orderNumber: generateOrderNumber(1001),
    customerId: 'cust-001',
    customerName: 'María González',
    customerEmail: 'maria.gonzalez@email.com',
    customerPhone: '+52 55 1234 5678',
    items: [
      {
        id: 'item-1',
        productId: '1',
        productName: 'iPhone 15 Pro Max 256GB',
        productImage: 'https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=400',
        sku: 'IPH15PM-256-BLK',
        quantity: 1,
        unitPrice: 1299.99,
        discount: 0,
        tax: 129.99,
        total: 1429.98,
        variant: 'Negro Titanio',
      },
    ],
    subtotal: 1299.99,
    tax: 129.99,
    shipping: 0,
    discount: 0,
    total: 1429.98,
    status: 'delivered',
    paymentStatus: 'paid',
    fulfillmentStatus: 'fulfilled',
    paymentMethod: 'credit_card',
    paymentMethodDisplay: 'Visa •••• 4242',
    transactionId: 'TXN-2024-09-15-001',
    shippingAddress: {
      fullName: 'María González',
      phone: '+52 55 1234 5678',
      addressLine1: 'Av. Insurgentes Sur 1234',
      addressLine2: 'Depto 5B',
      city: 'Ciudad de México',
      state: 'CDMX',
      postalCode: '03100',
      country: 'México',
    },
    trackingNumber: 'FDX123456789MX',
    carrier: 'FedEx',
    estimatedDelivery: new Date('2024-09-18'),
    notes: 'Por favor llamar antes de entregar',
    source: 'web',
    tags: ['primera-compra', 'promocion'],
    createdAt: new Date('2024-09-15T10:30:00'),
    updatedAt: new Date('2024-09-20T14:25:00'),
    confirmedAt: new Date('2024-09-15T10:35:00'),
    shippedAt: new Date('2024-09-17T09:00:00'),
    deliveredAt: new Date('2024-09-20T14:25:00'),
  },
  {
    id: '2',
    orderNumber: generateOrderNumber(1002),
    customerId: 'cust-002',
    customerName: 'Carlos Rodríguez',
    customerEmail: 'carlos.rodriguez@email.com',
    customerPhone: '+52 81 9876 5432',
    items: [
      {
        id: 'item-2',
        productId: '3',
        productName: 'MacBook Pro M3 16"',
        productImage: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400',
        sku: 'MBP16-M3-512-SG',
        quantity: 1,
        unitPrice: 2499.99,
        discount: 100,
        tax: 239.99,
        total: 2639.98,
        variant: 'Gris Espacial, 512GB',
      },
      {
        id: 'item-3',
        productId: '8',
        productName: 'AirPods Pro 2da Gen',
        sku: 'APP2-WHT',
        quantity: 1,
        unitPrice: 249.99,
        discount: 0,
        tax: 25,
        total: 274.99,
      },
    ],
    subtotal: 2749.98,
    tax: 264.99,
    shipping: 0,
    discount: 100,
    total: 2914.97,
    status: 'shipped',
    paymentStatus: 'paid',
    fulfillmentStatus: 'fulfilled',
    paymentMethod: 'paypal',
    paymentMethodDisplay: 'PayPal',
    transactionId: 'PAYPAL-2024-09-18-002',
    shippingAddress: {
      fullName: 'Carlos Rodríguez',
      phone: '+52 81 9876 5432',
      addressLine1: 'Calle Morelos 567',
      city: 'Monterrey',
      state: 'Nuevo León',
      postalCode: '64000',
      country: 'México',
    },
    trackingNumber: 'DHL987654321MX',
    carrier: 'DHL',
    estimatedDelivery: new Date('2024-09-24'),
    source: 'web',
    tags: ['vip', 'bundle'],
    createdAt: new Date('2024-09-18T14:20:00'),
    updatedAt: new Date('2024-09-22T11:45:00'),
    confirmedAt: new Date('2024-09-18T14:25:00'),
    shippedAt: new Date('2024-09-22T11:45:00'),
  },
  {
    id: '3',
    orderNumber: generateOrderNumber(1003),
    customerName: 'Ana Martínez',
    customerEmail: 'ana.martinez@email.com',
    customerPhone: '+52 33 5555 1234',
    items: [
      {
        id: 'item-4',
        productId: '5',
        productName: 'iPad Air M2 11"',
        sku: 'IPA-M2-256-BL',
        quantity: 1,
        unitPrice: 699.99,
        discount: 50,
        tax: 65,
        total: 714.99,
        variant: 'Azul, 256GB',
      },
      {
        id: 'item-5',
        productId: '13',
        productName: 'Apple Pencil 2da Gen',
        sku: 'APNC2-WHT',
        quantity: 1,
        unitPrice: 129.99,
        discount: 0,
        tax: 13,
        total: 142.99,
      },
    ],
    subtotal: 829.98,
    tax: 78,
    shipping: 15,
    discount: 50,
    total: 872.98,
    status: 'processing',
    paymentStatus: 'paid',
    fulfillmentStatus: 'unfulfilled',
    paymentMethod: 'bank_transfer',
    paymentMethodDisplay: 'Transferencia Bancaria',
    transactionId: 'SPEI-2024-09-20-003',
    shippingAddress: {
      fullName: 'Ana Martínez',
      phone: '+52 33 5555 1234',
      addressLine1: 'Av. Chapultepec 890',
      city: 'Guadalajara',
      state: 'Jalisco',
      postalCode: '44100',
      country: 'México',
    },
    source: 'web',
    createdAt: new Date('2024-09-20T09:15:00'),
    updatedAt: new Date('2024-09-21T16:30:00'),
    confirmedAt: new Date('2024-09-21T16:30:00'),
  },
  {
    id: '4',
    orderNumber: generateOrderNumber(1004),
    customerId: 'cust-004',
    customerName: 'Luis Hernández',
    customerEmail: 'luis.hernandez@email.com',
    customerPhone: '+52 55 8765 4321',
    items: [
      {
        id: 'item-6',
        productId: '2',
        productName: 'Samsung Galaxy S24 Ultra',
        productImage: 'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400',
        sku: 'SGS24U-512-TIT',
        quantity: 1,
        unitPrice: 1199.99,
        discount: 0,
        tax: 120,
        total: 1319.99,
        variant: 'Titanio, 512GB',
      },
    ],
    subtotal: 1199.99,
    tax: 120,
    shipping: 0,
    discount: 0,
    total: 1319.99,
    status: 'pending',
    paymentStatus: 'pending',
    fulfillmentStatus: 'unfulfilled',
    paymentMethod: 'debit_card',
    paymentMethodDisplay: 'Tarjeta de Débito',
    shippingAddress: {
      fullName: 'Luis Hernández',
      phone: '+52 55 8765 4321',
      addressLine1: 'Paseo de la Reforma 456',
      city: 'Ciudad de México',
      state: 'CDMX',
      postalCode: '06600',
      country: 'México',
    },
    source: 'mobile',
    createdAt: new Date('2024-09-22T18:45:00'),
    updatedAt: new Date('2024-09-22T18:45:00'),
  },
  {
    id: '5',
    orderNumber: generateOrderNumber(1005),
    customerId: 'cust-005',
    customerName: 'Sofia Chen',
    customerEmail: 'sofia.chen@email.com',
    customerPhone: '+52 55 2222 3333',
    items: [
      {
        id: 'item-7',
        productId: '10',
        productName: 'Canon EOS R5',
        productImage: 'https://images.unsplash.com/photo-1606980623044-cc20d136d682?w=400',
        sku: 'CAN-R5-BODY',
        quantity: 1,
        unitPrice: 3899.99,
        discount: 200,
        tax: 369.99,
        total: 4069.98,
      },
      {
        id: 'item-8',
        productId: '14',
        productName: 'Canon RF 24-70mm f/2.8L',
        sku: 'CAN-RF2470-F28',
        quantity: 1,
        unitPrice: 2299.99,
        discount: 0,
        tax: 230,
        total: 2529.99,
      },
    ],
    subtotal: 6199.98,
    tax: 599.99,
    shipping: 0,
    discount: 200,
    total: 6599.97,
    status: 'delivered',
    paymentStatus: 'paid',
    fulfillmentStatus: 'fulfilled',
    paymentMethod: 'credit_card',
    paymentMethodDisplay: 'Mastercard •••• 8888',
    transactionId: 'TXN-2024-09-10-005',
    shippingAddress: {
      fullName: 'Sofia Chen',
      phone: '+52 55 2222 3333',
      addressLine1: 'Polanco 123',
      city: 'Ciudad de México',
      state: 'CDMX',
      postalCode: '11560',
      country: 'México',
    },
    trackingNumber: 'UPS456789012MX',
    carrier: 'UPS',
    notes: 'Cliente VIP - Manejo con cuidado',
    internalNotes: 'Equipo fotográfico profesional',
    source: 'web',
    tags: ['vip', 'fotografia', 'profesional'],
    createdAt: new Date('2024-09-10T11:00:00'),
    updatedAt: new Date('2024-09-15T15:20:00'),
    confirmedAt: new Date('2024-09-10T11:05:00'),
    shippedAt: new Date('2024-09-12T08:30:00'),
    deliveredAt: new Date('2024-09-15T15:20:00'),
  },
  {
    id: '6',
    orderNumber: generateOrderNumber(1006),
    customerName: 'Roberto Silva',
    customerEmail: 'roberto.silva@email.com',
    items: [
      {
        id: 'item-9',
        productId: '12',
        productName: 'Microsoft Surface Pro 9',
        sku: 'MSP9-512-PLT',
        quantity: 1,
        unitPrice: 1599.99,
        discount: 100,
        tax: 150,
        total: 1649.99,
        variant: 'Platino, Intel i7',
      },
    ],
    subtotal: 1599.99,
    tax: 150,
    shipping: 20,
    discount: 100,
    total: 1669.99,
    status: 'shipped',
    paymentStatus: 'paid',
    fulfillmentStatus: 'fulfilled',
    paymentMethod: 'cash',
    paymentMethodDisplay: 'Efectivo contra entrega',
    shippingAddress: {
      fullName: 'Roberto Silva',
      phone: '+52 81 7777 8888',
      addressLine1: 'Av. Constitución 789',
      city: 'Monterrey',
      state: 'Nuevo León',
      postalCode: '64000',
      country: 'México',
    },
    trackingNumber: 'EST123456789MX',
    carrier: 'Estafeta',
    estimatedDelivery: new Date('2024-09-26'),
    source: 'phone',
    createdAt: new Date('2024-09-17T13:20:00'),
    updatedAt: new Date('2024-09-19T10:15:00'),
    confirmedAt: new Date('2024-09-17T13:25:00'),
    shippedAt: new Date('2024-09-19T10:15:00'),
  },
  {
    id: '7',
    orderNumber: generateOrderNumber(1007),
    customerName: 'Isabella López',
    customerEmail: 'isabella.lopez@email.com',
    customerPhone: '+52 33 9999 0000',
    items: [
      {
        id: 'item-10',
        productId: '5',
        productName: 'iPad Air M2 11"',
        sku: 'IPA-M2-128-GY',
        quantity: 1,
        unitPrice: 599.99,
        discount: 0,
        tax: 60,
        total: 659.99,
        variant: 'Gris, 128GB',
      },
    ],
    subtotal: 599.99,
    tax: 60,
    shipping: 15,
    discount: 0,
    total: 674.99,
    status: 'cancelled',
    paymentStatus: 'refunded',
    fulfillmentStatus: 'unfulfilled',
    paymentMethod: 'credit_card',
    paymentMethodDisplay: 'Visa •••• 1234',
    transactionId: 'TXN-2024-09-16-007',
    notes: 'Cliente solicitó cancelación - cambio de opinión',
    internalNotes: 'Reembolso procesado el 2024-09-17',
    source: 'web',
    createdAt: new Date('2024-09-16T16:40:00'),
    updatedAt: new Date('2024-09-17T09:30:00'),
    cancelledAt: new Date('2024-09-17T09:30:00'),
  },
  {
    id: '8',
    orderNumber: generateOrderNumber(1008),
    customerId: 'cust-008',
    customerName: 'Diego Morales',
    customerEmail: 'diego.morales@email.com',
    customerPhone: '+52 55 4444 5555',
    items: [
      {
        id: 'item-11',
        productId: '7',
        productName: 'Dell XPS 13',
        sku: 'DELL-XPS13-512',
        quantity: 1,
        unitPrice: 1299.99,
        discount: 0,
        tax: 130,
        total: 1429.99,
        variant: 'Intel i7, 16GB RAM',
      },
      {
        id: 'item-12',
        productId: '4',
        productName: 'Sony WH-1000XM5',
        sku: 'SONY-WH1000XM5-BLK',
        quantity: 1,
        unitPrice: 349.99,
        discount: 30,
        tax: 32,
        total: 351.99,
        variant: 'Negro',
      },
    ],
    subtotal: 1649.98,
    tax: 162,
    shipping: 0,
    discount: 30,
    total: 1781.98,
    status: 'processing',
    paymentStatus: 'paid',
    fulfillmentStatus: 'partial',
    paymentMethod: 'paypal',
    paymentMethodDisplay: 'PayPal',
    transactionId: 'PAYPAL-2024-09-21-008',
    shippingAddress: {
      fullName: 'Diego Morales',
      phone: '+52 55 4444 5555',
      addressLine1: 'Calle Juárez 234',
      city: 'Ciudad de México',
      state: 'CDMX',
      postalCode: '06050',
      country: 'México',
    },
    internalNotes: 'Auriculares ya enviados, laptop en preparación',
    source: 'web',
    createdAt: new Date('2024-09-21T12:00:00'),
    updatedAt: new Date('2024-09-23T14:20:00'),
    confirmedAt: new Date('2024-09-21T12:10:00'),
  },
  {
    id: '9',
    orderNumber: generateOrderNumber(1009),
    customerId: 'cust-009',
    customerName: 'Carmen Vega',
    customerEmail: 'carmen.vega@email.com',
    customerPhone: '+52 81 3333 4444',
    items: [
      {
        id: 'item-13',
        productId: '3',
        productName: 'MacBook Pro M3 16"',
        sku: 'MBP16-M3-1TB-SLV',
        quantity: 1,
        unitPrice: 2899.99,
        discount: 150,
        tax: 275,
        total: 3024.99,
        variant: 'Plata, 1TB',
      },
    ],
    subtotal: 2899.99,
    tax: 275,
    shipping: 0,
    discount: 150,
    total: 3024.99,
    status: 'delivered',
    paymentStatus: 'paid',
    fulfillmentStatus: 'fulfilled',
    paymentMethod: 'bank_transfer',
    paymentMethodDisplay: 'Transferencia Bancaria',
    transactionId: 'SPEI-2024-09-12-009',
    shippingAddress: {
      fullName: 'Carmen Vega',
      phone: '+52 81 3333 4444',
      addressLine1: 'Av. San Pedro 567',
      city: 'San Pedro Garza García',
      state: 'Nuevo León',
      postalCode: '66230',
      country: 'México',
    },
    trackingNumber: 'FDX789012345MX',
    carrier: 'FedEx',
    source: 'web',
    tags: ['empresa', 'factura-requerida'],
    createdAt: new Date('2024-09-12T10:30:00'),
    updatedAt: new Date('2024-09-16T13:45:00'),
    confirmedAt: new Date('2024-09-12T10:40:00'),
    shippedAt: new Date('2024-09-14T09:00:00'),
    deliveredAt: new Date('2024-09-16T13:45:00'),
  },
  {
    id: '10',
    orderNumber: generateOrderNumber(1010),
    customerName: 'Fernando Ramos',
    customerEmail: 'fernando.ramos@email.com',
    items: [
      {
        id: 'item-14',
        productId: '1',
        productName: 'iPhone 15 Pro Max 512GB',
        sku: 'IPH15PM-512-WHT',
        quantity: 2,
        unitPrice: 1399.99,
        discount: 100,
        tax: 260,
        total: 2959.98,
        variant: 'Titanio Blanco',
      },
    ],
    subtotal: 2799.98,
    tax: 260,
    shipping: 0,
    discount: 100,
    total: 2959.98,
    status: 'confirmed',
    paymentStatus: 'paid',
    fulfillmentStatus: 'unfulfilled',
    paymentMethod: 'debit_card',
    paymentMethodDisplay: 'Tarjeta de Débito •••• 5678',
    transactionId: 'TXN-2024-09-23-010',
    shippingAddress: {
      fullName: 'Fernando Ramos',
      phone: '+52 55 6666 7777',
      addressLine1: 'Av. Universidad 890',
      city: 'Ciudad de México',
      state: 'CDMX',
      postalCode: '04510',
      country: 'México',
    },
    notes: 'Entrega en horario de oficina',
    source: 'physical_store',
    tags: ['empleado'],
    createdAt: new Date('2024-09-23T15:20:00'),
    updatedAt: new Date('2024-09-23T15:25:00'),
    confirmedAt: new Date('2024-09-23T15:25:00'),
  },
];

// Helper para calcular métricas de órdenes
export const getOrdersMetrics = (orders: Order[]) => {
  const totalRevenue = orders
    .filter(o => o.status !== 'cancelled')
    .reduce((acc, order) => acc + order.total, 0);

  const avgOrderValue = totalRevenue / orders.filter(o => o.status !== 'cancelled').length;

  const statusCounts = orders.reduce((acc, order) => {
    acc[order.status] = (acc[order.status] || 0) + 1;
    return acc;
  }, {} as Record<OrderStatus, number>);

  const paymentStatusCounts = orders.reduce((acc, order) => {
    acc[order.paymentStatus] = (acc[order.paymentStatus] || 0) + 1;
    return acc;
  }, {} as Record<PaymentStatus, number>);

  return {
    totalOrders: orders.length,
    totalRevenue,
    avgOrderValue,
    statusCounts,
    paymentStatusCounts,
    pendingOrders: statusCounts.pending || 0,
    processingOrders: (statusCounts.processing || 0) + (statusCounts.confirmed || 0),
    shippedOrders: statusCounts.shipped || 0,
    deliveredOrders: statusCounts.delivered || 0,
    cancelledOrders: statusCounts.cancelled || 0,
  };
};

type OrderStatus = Order['status'];
type PaymentStatus = Order['paymentStatus'];
